<!DOCTYPE html>
<html>
	<head>
		<title>List</title>
		<script src="https://code.jquery.com/jquery-3.6.1.js" integrity="sha256-3zlB5s2uwoUzrXK3BT7AX3FyvojsraNFxCc2vC/7pNI=" crossorigin="anonymous"></script>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>
		<style>
			.actions {
				margin-top: 8px;
				margin-bottom: 8px;
				float: left;
				width: 100%;
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h1>Papers</h1>
			<div class="actions">
				{% if alert.1 != 0 %}
					{% if alert.1 == 'DANGER' %}
						<div class="alert alert-danger">{{ alert.0 }}</div>
					{% elif alert.1 == 'INFO' %}
						<div class="alert alert-info">{{ alert.0 }}</div>
					{% elif alert.1 == 'SUCCESS' %}
						<div class="alert alert-success">{{ alert.0 }}</div>
					{% elif alert.1 == 'WARNING' %}
						<div class="alert alert-warning">{{ alert.0 }}</div>
					{% endif %}
				{% endif %}
				<a href="/fetch" class="btn btn-secondary" role="button">Update</a>
			</div>
			<div style="clear: both;"></div>
			<table id="table" data-show-columns="true" data-pagination="true" data-search="true" data-show-jump-to="true">
				<thead>
					<tr>
						<th data-field="title" data-sortable="true" data-width="325">Title</th>
						<th data-field="author" data-sortable="true" data-width="260">Authors</th>
						<th data-field="brief">Summary</th>
					</tr>
				</thead>
			</table>
			<!-- Bootstrap Table -->
			<link href="https://unpkg.com/bootstrap-table@1.21.0/dist/bootstrap-table.min.css" rel="stylesheet">
			<script src="https://unpkg.com/bootstrap-table@1.21.0/dist/bootstrap-table.min.js"></script>
			<!-- Bootstrap Table page jump -->
			<link href="https://unpkg.com/bootstrap-table@1.21.0/dist/extensions/page-jump-to/bootstrap-table-page-jump-to.min.css" rel="stylesheet">
			<script src="https://unpkg.com/bootstrap-table@1.21.0/dist/extensions/page-jump-to/bootstrap-table-page-jump-to.min.js"></script>
			<!-- Bootstrap Table sticky header -->
			<link href="https://unpkg.com/bootstrap-table@1.21.0/dist/extensions/sticky-header/bootstrap-table-sticky-header.css" rel="stylesheet">
			<script src="https://unpkg.com/bootstrap-table@1.21.0/dist/extensions/sticky-header/bootstrap-table-sticky-header.min.js"></script>
			<script>
				var $table = $('#table')

				$(function() {
					var data = [
						{% for row in data %}
							{
							{% for key, value in row.items() %}
								"{{ key }}": "{{ value }}",
							{% endfor %}
							},
						{% endfor %}
					]
					$table.bootstrapTable({data: data, stickyHeader: true,})
				})
			</script>
		</div>
	</body>
</html>